const ASK_CONATAINER=document.querySelector(".ask").children[0],A1=document.querySelector(".A1"),A2=document.querySelector(".A2"),A3=document.querySelector(".A3"),A4=document.querySelector(".A4"),counter=document.querySelector(".timer"),layOut=document.querySelector(".lay_out"),start=document.querySelector(".start"),timeout=4e3,answers=document.querySelectorAll("section"),lostTime="للأسف انتهى الوقت حاول مرة ثانية",passGame="رائع لقد فزت",playAgain="أعد المسابقة",cheque=document.querySelector(".cheque"),haveDollar=document.querySelector(".have_dollar"),msgDollar=document.querySelector(".msg_dollar"),welldone="ألف مبروك معك",baddone="ليس معك الا",Dollar=document.querySelector(".dollar");clock="stop";let target=0;random=10/3*Math.random();let randomPage=(random%10).toFixed(1),page1=parseInt(randomPage.slice(2,6))+2,page2=parseInt(randomPage.slice(2,6))+1,page3=parseInt(randomPage.slice(2,6))+4,page4=parseInt(randomPage.slice(2,6))+6,page5=parseInt(randomPage.slice(2,6))-1,page6=parseInt(randomPage.slice(2,6))+2,page7=parseInt(randomPage.slice(2,6))+1,page8=parseInt(randomPage.slice(2,6))+4,page9=parseInt(randomPage.slice(2,6))+6,page10=parseInt(randomPage.slice(2,6))-4,page,stup;const pages=["./data1.json","./data2.json","./data3.json","./data4.json","./data5.json","./data3.json","./data5.json","./data4.json","./data2.json","./data1.json"];function innerDom(data,target){ASK_CONATAINER.innerHTML=data[target].quez,A1.children[0].innerText=data[target].a,A2.children[0].innerText=data[target].b,A3.children[0].innerText=data[target].c,A4.children[0].innerText=data[target].d,chooseAnswer(data,target)}function getAsks(req){req.onload=function(){if(console.log(this.status),4==this.readyState&&200==this.status)try{data=JSON.parse(this.responseText),innerDom(data,target)}catch{console.log("FALILD")}},req.open("get",stup,!0),req.send()}function chooseAnswer(data,target){answers.forEach(answer=>{answer.addEventListener("click",(function(){let crreunt=data[target],rightAnswer=Object.values(crreunt)[5];clock="stop",rightAnswer==this.id?(children=[...this.children],this.style.animationName="congratulations",children.forEach(child=>child.style.animationName="congratulations"),"true"===crreunt.last?(console.log(crreunt),Dollar.innerText=data[target].money,chequeF(data,target),crreunt=data[target=0],counter.innerText=60,setTimeout(ramoveAnimation,8e3,data,target),setTimeout(returnRoot,8e3,data,target)):(Dollar.innerText=data[target].money,target++,crreunt=data[target],counter.innerText=60,setTimeout(innerDom,4e3,data,target),setTimeout(ramoveAnimation,8e3,data,target))):(chequeF(data,target),children=[...this.children],children.forEach(child=>child.style.animationName="condolences"),this.style.animationName="condolences",crreunt=data[target=0],counter.innerText=60,answers.forEach(answer=>{children=[...answer.children],answer.id==rightAnswer&&(answer.style.animationName="congratulations"),answer.id==rightAnswer&&(answer.style.animationDelay="5s"),answer.id==rightAnswer&&children.forEach(child=>child.style.animationName="congratulations"),answer.id==rightAnswer&&children.forEach(child=>child.style.animationDelay="5s")}),setTimeout(ramoveAnimation,8e3,data,target),setTimeout(returnRoot,8e3,data,target))}))})}function ramoveAnimation(data,target){clock="run",answers.forEach(answer=>{children=[...answer.children],answer.style.animationName="",answer.style.animationDelay="0s",children.forEach(child=>{child.style.animationName="",child.style.animationDelay="0s"})})}function returnRoot(data,target){target=0,crreunt=data[0],clock="stop",setTimeout(()=>{layOut.style.display="flex",cheque.style.animationName=""},4e3),start.innerText=playAgain}function chequeF(data,target){msgDollar.innerText=target<data.length/2?baddone:welldone,haveDollar.innerText=Dollar.innerText,cheque.style.animationName="chequeMoving"}start.addEventListener("click",()=>{layOut.style.display="none",clock="run",cheque.animationName="",counter.innerText=60,Dollar.innerText="$0",page=page1>1&&page1<4?page1:page2>1&&page2<10?page2:page3>1&&page3<10?page3:page4>1&&page4<10?page4:page5>1&&page5<10?page5:page6>1&&page6<10?page6:page7>1&&page7<10?page7:page8>1&&page8<10?page8:page9>1&&page9<10?page9:page10>1&&page10<10?page10:0,stup=pages[page],myRequest=new XMLHttpRequest,getAsks(myRequest),target=0,setInterval(timeDrop,2e3),console.log(page)}),timeDrop=()=>{"run"===clock&&(counter.innerText>0?(counter.innerText=+counter.innerText-1,counter.innerText.length<2?counter.innerText=`0${counter.innerText}`:counter.innerText):(ASK_CONATAINER.innerHTML=lostTime,Dollar.innerText=data[target].money,chequeF(data,target),setTimeout(()=>{location.reload()},4e3)))};